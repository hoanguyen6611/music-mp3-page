<nz-layout>
  <nz-sider class="menu-sidebar" nzWidth="256px" nzBreakpoint="xl" #sider>
    <div class="sidebar-logo"></div>
    <div>
      <div class="m-3"></div>
      <div class="menu-wrap">
        <ul nz-menu nzMode="inline" *ngFor="let groupMenu of groupMenus">
          <li class="menu-group-name" *ngIf="groupMenu.name">
            <span class="fw-bold">
              {{ groupMenu.name | translate | uppercase }}
            </span>
          </li>
          <ng-container *ngFor="let menu of groupMenu.menus">
            <li
              *ngIf="
                menu.children && menu.children.length > 0;
                else menuItemTemplate
              "
              nz-submenu
            >
              <span title>
                <span
                  nz-icon
                  *ngIf="menu.icon"
                  [nzType]="menu.icon"
                  nz-tooltip
                  nzTooltipPlacement="topLeft"
                >
                </span>
                <span
                  nz-icon
                  *ngIf="menu.iconFont"
                  [nzIconfont]="menu.iconFont"
                  nz-tooltip
                  nzTooltipPlacement="topLeft"
                >
                </span>
                <span>{{ menu.display | translate }}</span>
              </span>
              <ul>
                <ng-container *ngFor="let item of menu.children">
                  <li
                    *appPermission="item.requiredPolicy"
                    nz-menu-item
                    nzMatchRouter
                  >
                    <a [routerLink]="item.path">{{
                      item.display | translate
                    }}</a>
                  </li>
                </ng-container>
              </ul>
            </li>
            <ng-template #menuItemTemplate>
              <li nz-menu-item nzMatchRouter>
                <a
                  [routerLink]="menu.path"
                  nz-tooltip
                  nzTooltipPlacement="topLeft"
                >
                  <span
                    nz-icon
                    *ngIf="menu.icon"
                    nzTooltipPlacement="topLeft"
                    [nzType]="menu.icon"
                  ></span>
                  <span
                    nz-icon
                    *ngIf="menu.iconFont"
                    nzTooltipPlacement="topLeft"
                    [nzIconfont]="menu.iconFont"
                  >
                  </span>
                  <span>{{ menu.display | translate }}</span>
                </a>
              </li>
            </ng-template>
          </ng-container>
        </ul>
      </div>
      <button
        class="text-black rounded-lg p-2 font-semibold"
        nzSize="large"
        nz-button
        (click)="logout()"
      >
        <span nz-icon nzType="logout" nzTheme="outline"></span>
        Đăng xuất
      </button>
    </div>
  </nz-sider>
  <nz-layout>
    <nz-header class="w-100">
      <div class="app-header"></div>
    </nz-header>
    <nz-content>
      <div class="inner-content">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
  </nz-layout>
</nz-layout>
