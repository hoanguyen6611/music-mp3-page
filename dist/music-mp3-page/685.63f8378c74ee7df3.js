"use strict";(self.webpackChunkmusic_mp3_page=self.webpackChunkmusic_mp3_page||[]).push([[685],{3685:(fe,h,a)=>{a.r(h),a.d(h,{HomePageModule:()=>ge});var l=a(6895),p=a(9116),x=a(1293),u=a(4223),g=a(4280),z=a(8505),v=a(3900),b=a(8746),n=a(4650),N=a(2204),P=a(5106);const S={IsLoadingSong:!1,IsLoadingAlbum:!1,Song:[],Album:[]};let f=(()=>{class e extends g.m1{constructor(t,o){super(S),this.songService=t,this.albumService=o,this.vm$=this.select(this.state$,({Song:i,Album:c,IsLoadingSong:d,IsLoadingAlbum:s})=>({Song:i,Album:c,IsLoadingSong:d,IsLoadingAlbum:s}),{debounce:!0}),this.currentSong$=this.select(i=>i.Current),this.setIsLoadingSong=this.updater((i,c)=>({...i,IsLoadingSong:c})),this.setIsLoadingAlbum=this.updater((i,c)=>({...i,IsLoadingAlbum:c})),this.setCurrentSong=this.updater((i,c)=>({...i,Current:c})),this.loadSong=this.effect(i=>i.pipe((0,z.b)(()=>{this.patchState({IsLoadingSong:!0})}),(0,v.w)(()=>this.songService.getAllSong().pipe((0,g._b)(c=>{this.patchState({IsLoadingSong:!1,Song:c})},c=>{this.patchState({IsLoadingSong:!1,Song:[]})}),(0,b.x)(()=>{this.patchState({IsLoadingSong:!1})}))))),this.loadAblum=this.effect(i=>i.pipe((0,z.b)(()=>{this.patchState({IsLoadingAlbum:!0})}),(0,v.w)(()=>this.albumService.getAllAlbum().pipe((0,g._b)(c=>{this.patchState({IsLoadingAlbum:!1,Album:c})},c=>{this.patchState({IsLoadingAlbum:!1,Album:[]})}),(0,b.x)(()=>{this.patchState({IsLoadingAlbum:!1})}))))),this.loadSong(),this.loadAblum()}refreshData(){this.patchState({}),this.loadSong()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(N.e),n.LFG(P.$))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var I=a(9653),B=a(3633),H=a(1516),T=a(275);let D=(()=>{class e{constructor(){this.album={id:"",name:"",state:!0,description:"",image:"",listSong:[]}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-ablum"]],inputs:{album:"album"},decls:10,vars:7,consts:[[1,"flex","flex-col","flex-1"],[1,"media-cover",3,"is-playing"],[1,"mb-4","relative",3,"imageUrl"],[1,"flex","flex-row-reverse","absolute","top-0","right-0"],[1,"pl-4","play-button",3,"flatIcon","isShowVolumeIcon","large"],[1,"media-description",3,"routerLink"],[1,"font-bold","text-white","ellipsis-one-line","hover:text-white"],[1,"text-description"]],template:function(t,o){1&t&&(n.TgZ(0,"a",0)(1,"div",1),n._UZ(2,"app-media-cover",2),n.TgZ(3,"div",3),n._UZ(4,"app-play-button",4),n.qZA()(),n.TgZ(5,"div",5)(6,"div",6),n._uU(7),n.qZA(),n.TgZ(8,"div",7),n._uU(9),n.qZA()()()),2&t&&(n.xp6(2),n.Q6J("imageUrl",o.album.image),n.xp6(2),n.Q6J("flatIcon",!0)("isShowVolumeIcon",!0)("large",!0),n.xp6(1),n.MGl("routerLink","/main/album/",o.album.id,""),n.xp6(2),n.hij(" ",o.album.name," "),n.xp6(2),n.hij(" ",o.album.description," "))},dependencies:[p.rH,H.L,T.H],styles:["[_nghost-%COMP%]{border-radius:4px;transition:background-color .3s ease;background-color:#181818;display:flex;flex-direction:column;padding:1rem}[_nghost-%COMP%]::hover{background-color:#282828}[_nghost-%COMP%]::hover   .play-button-overlay[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.play-button-overlay[_ngcontent-%COMP%]{right:10px;bottom:25px;opacity:0;visibility:hidden;transition:all .3s;transform:translateY(10px);position:absolute}.media-cover[_ngcontent-%COMP%]{display:flex;position:relative}.media-cover.is-playing[_ngcontent-%COMP%]   .play-button-overlay[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.play-button[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:hover   .play-button[_ngcontent-%COMP%]{display:block}"]}),e})();function A(e,r){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"app-song",5),n.NdJ("click",function(){const c=n.CHM(t).$implicit,d=n.oxw(2);return n.KtG(d.playMusic(c))}),n.qZA(),n.BQk()}if(2&e){const t=r.$implicit;n.xp6(1),n.Q6J("song",t)}}function M(e,r){if(1&e&&(n.TgZ(0,"div",3),n.YNc(1,A,2,1,"ng-container",4),n.qZA()),2&e){const t=r.ngIf;n.xp6(1),n.Q6J("ngForOf",t.Song)}}function F(e,r){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"app-ablum",6),n.NdJ("click",function(){const c=n.CHM(t).$implicit,d=n.oxw(2);return n.KtG(d.playAlbum(c.listSong))}),n.qZA(),n.BQk()}if(2&e){const t=r.$implicit;n.xp6(1),n.Q6J("album",t)}}function O(e,r){if(1&e&&(n.TgZ(0,"div",3),n.YNc(1,F,2,1,"ng-container",4),n.qZA()),2&e){const t=r.ngIf;n.xp6(1),n.Q6J("ngForOf",t.Album)}}const R=[{path:"",component:(()=>{class e{constructor(t,o){this.homePageStore=t,this.store=o,this.vm$=this.homePageStore.vm$,this.currentSong$=this.store.select(x.W3)}playMusic(t){this.store.dispatch((0,u.vZ)({value:t}))}playAlbum(t){this.store.dispatch((0,u.Bn)({value:t})),this.store.dispatch((0,u.vZ)({value:t[0]}))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(f),n.Y36(I.yh))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-home-page"]],features:[n._Bn([f])],decls:8,vars:6,consts:[[1,"color-white"],["class","grid grid-cols-6 gap-10 mt-5",4,"ngIf"],[1,"color-white","mt-4"],[1,"grid","grid-cols-6","gap-10","mt-5"],[4,"ngFor","ngForOf"],[3,"song","click"],[3,"album","click"]],template:function(t,o){1&t&&(n.TgZ(0,"h2",0),n._uU(1,"Song"),n.qZA(),n.YNc(2,M,2,1,"div",1),n.ALo(3,"async"),n.TgZ(4,"h2",2),n._uU(5,"Album"),n.qZA(),n.YNc(6,O,2,1,"div",1),n.ALo(7,"async")),2&t&&(n.xp6(2),n.Q6J("ngIf",n.lcZ(3,2,o.vm$)),n.xp6(4),n.Q6J("ngIf",n.lcZ(7,4,o.vm$)))},dependencies:[l.sg,l.O5,B.Y,D,l.Ov],styles:["[_nghost-%COMP%]{padding:1rem}"],changeDetection:0}),e})()}];let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.Bz.forChild(R),p.Bz]}),e})();var C=a(6287),E=a(9562),m=a(7423),_=a(445),w=a(8184),L=a(1691);let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.ez,C.T,w.U8,L.e4,E.b1,m.PV,_.vT]}),e})(),re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[_.vT,l.ez,C.T,m.PV]}),e})();var ae=a(9383);const oe=[re,U,m.PV];let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.ez,oe,p.Bz,ae.aw]}),e})();var ce=a(6990),de=a(7652),le=a(9395),se=a(6198),pe=a(3828),me=a(1971);let ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.ez,me.vh,m.PV,p.Bz,pe.c,se.L]}),e})(),ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[f],imports:[l.ez,j,ie,ce.g,ue,de.y,le.A]}),e})()}}]);