"use strict";(self.webpackChunkmusic_mp3_page=self.webpackChunkmusic_mp3_page||[]).push([[635],{3635:(W,v,a)=>{a.r(v),a.d(v,{CategorysModule:()=>X});var c=a(6895),d=a(9116),t=a(4650),p=a(4280),h=a(8505),m=a(3900),C=a(8746),D=a(9646),S=a(4629),x=a(8689),f=a(9651),u=a(9383);const M={Data:[],IsLoading:!1,IsLoadingDetail:!1,Value:{id:"",name:"",image:"",description:"",songs:[]}};let y=(()=>{class o extends p.m1{constructor(e,n,r,g){super(M),this.service=e,this.favoriteService=n,this.message=r,this.translateService=g,this.vm$=this.select(this.state$,({Data:l,IsLoading:s})=>({Data:l,IsLoading:s}),{debounce:!0}),this.value$=this.select(l=>l.Value),this.setIsLoading=this.updater((l,s)=>({...l,IsLoading:s})),this.loadData=this.effect(l=>l.pipe((0,h.b)(()=>{this.patchState({IsLoading:!0})}),(0,m.w)(()=>this.service.getAllCategory().pipe((0,p._b)(s=>{this.patchState({IsLoading:!1,Data:s})},s=>{this.patchState({Data:[],IsLoading:!1})}),(0,C.x)(()=>{this.patchState({IsLoading:!1})}))))),this.loadCategoryDetail=this.effect(l=>l.pipe((0,h.b)(()=>this.patchState({IsLoadingDetail:!0})),(0,m.w)(s=>s?this.service.getCategoryDetail(s):(0,D.of)(void 0)),(0,p._b)(s=>{this.patchState({Value:s,IsLoadingDetail:!1})},s=>{this.patchState({Value:void 0,IsLoadingDetail:!1})}))),this.addSongToFavorite=this.effect(l=>l.pipe((0,m.w)(s=>this.favoriteService.addSongFavorite(s).pipe((0,p._b)(()=>{this.message.success(this.translateService.instant("MESSAGE.ADD_TO_FAVORITE"))},b=>{this.message.error(b.error.message)}))))),this.loadData()}refreshData(){this.patchState({}),this.loadData()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(S.s),t.LFG(x.e),t.LFG(f.dD),t.LFG(u.sK))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var F=a(1516);let I=(()=>{class o{constructor(){this.category={id:"",name:"",image:"",description:"",songs:[]}}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category"]],inputs:{category:"category"},decls:4,vars:4,consts:[[1,"category-cover-container",3,"routerLink"],[3,"imageUrl"],[1,"category-name","ellipsis-one-line",3,"title"]],template:function(e,n){1&e&&(t.TgZ(0,"a",0),t._UZ(1,"app-media-cover",1),t.TgZ(2,"div",2),t._uU(3),t.qZA()()),2&e&&(t.Q6J("routerLink",n.category.id),t.xp6(1),t.Q6J("imageUrl",n.category.image),t.xp6(1),t.Q6J("title",n.category.name),t.xp6(1),t.hij(" ",n.category.name," "))},dependencies:[d.yS,F.L],styles:[".category-cover-container[_ngcontent-%COMP%]{display:flex;position:relative}.category-cover-container[_ngcontent-%COMP%]:hover   .category-name[_ngcontent-%COMP%]{text-decoration-line:underline}.category-name[_ngcontent-%COMP%]{position:absolute;bottom:40px;left:50%;transform:translate(-50%);font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}"]}),o})();function T(o,i){if(1&o&&(t.ynx(0),t._UZ(1,"app-category",3),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("category",e)}}function L(o,i){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,T,2,1,"ng-container",2),t.qZA()),2&o){const e=i.ngIf;t.xp6(1),t.Q6J("ngForOf",e.Data)}}let O=(()=>{class o{constructor(e){this.store=e,this.vm$=this.store.vm$}ngOnInit(){}selectCategoryDetail(e){console.log(e),this.store.loadCategoryDetail(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categorys"]],decls:2,vars:3,consts:[["class","grid grid-cols-6 gap-10",4,"ngIf"],[1,"grid","grid-cols-6","gap-10"],[4,"ngFor","ngForOf"],[3,"category"]],template:function(e,n){1&e&&(t.YNc(0,L,2,1,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.vm$))},dependencies:[c.sg,c.O5,I,c.Ov],styles:["[_nghost-%COMP%]{padding:1rem}"]}),o})();var Z=a(1293),J=a(9653),A=a(812),$=a(9890),Q=a(7698),Y=a(275);function z(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-playlist-track",5),t.NdJ("add",function(r){t.CHM(e);const g=t.oxw(3);return t.KtG(g.addMusicToPlaylist(r))})("favorite",function(r){t.CHM(e);const g=t.oxw(3);return t.KtG(g.addMusicFavorite(r))})("playMusic",function(r){t.CHM(e);const g=t.oxw(3);return t.KtG(g.playMusicItem(r))}),t.qZA()()}if(2&o){const e=i.$implicit,n=i.index,r=t.oxw(2).ngIf;t.xp6(1),t.Q6J("index",n)("song",e)("playlist",r)("showFavorite",!1)}}function P(o,i){if(1&o&&(t.TgZ(0,"div",3),t.YNc(1,z,2,4,"div",4),t.qZA()),2&o){const e=i.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function G(o,i){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-detail",1)(2,"app-play-button")(3,"app-title-list"),t.YNc(4,P,2,1,"div",2),t.qZA()),2&o){const e=i.ngIf;t.xp6(1),t.Q6J("imageUrl",e.image)("description",e.description)("title",e.name)("quantity",e.songs.length),t.xp6(3),t.Q6J("ngIf",e.songs)}}const U=[{path:"",component:O},{path:":id",component:(()=>{class o{constructor(e,n,r){this.categoryStore=e,this.route=n,this.store=r,this.category$=this.categoryStore.value$,this.id=String(this.route.snapshot.paramMap?.get("id")),this.categoryDetail$=this.categoryStore.loadCategoryDetail(this.id),this.value$=this.categoryStore.value$,this.checked=!1,this.indeterminate=!1}ngOnInit(){}onAllChecked(e){}addMusicToPlaylist(e){console.log(e)}addMusicFavorite(e){this.categoryStore.addSongToFavorite(e)}playMusicItem(e){this.store.dispatch((0,Z.vZ)({value:e}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y),t.Y36(d.gz),t.Y36(J.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],["type","Category",3,"imageUrl","description","title","quantity"],["class","items-center px-4 cursor-pointer h-14 hover:bg-white hover:bg-opacity-10",4,"ngIf"],[1,"items-center","px-4","cursor-pointer","h-14","hover:bg-white","hover:bg-opacity-10"],[4,"ngFor","ngForOf"],[3,"index","song","playlist","showFavorite","add","favorite","playMusic"]],template:function(e,n){1&e&&(t.YNc(0,G,5,5,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.value$))},dependencies:[c.sg,c.O5,A.J,$.F,Q.x,Y.H,c.Ov],styles:["[_nghost-%COMP%]{padding:1rem}.playlist-tracks-header[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;z-index:2;margin-bottom:1rem;border-color:rgb(255 255 255 / var(--tw-border-opacity));--tw-border-opacity: .1;padding-left:1rem;padding-right:1rem;padding-bottom:1rem}"]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(U),d.Bz]}),o})();var B=a(9395),R=a(3566),V=a(1855),j=a(7500),E=a(8526),H=a(908),K=a(6198);let X=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[y],imports:[c.ez,N,B.A,R.j,V.S,j.k,E.L,H.J,u.aw,f.gR,K.L]}),o})()}}]);